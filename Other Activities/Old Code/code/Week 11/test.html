<!DOCTYPE HTML>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>Loan Calculator</title>

        <script>
            function doPayment() {
                let Principal = parseFloat(document.getElementById('principal').value);
                let Intrest = parseFloat(document.getElementById('interest').value);
                let Years = parseFloat(document.getElementById('years').value);
                let Payments = parseFloat(document.getElementById('payments').value);
                let NumberPD = parseFloat(document.getElementById(NPD).value);
                let output = computePayment(Principle, Intrest, Years, Payments);
                document.getElementById('outputDIV1'). innerHTML = "$" + output;
            }

            function computePayment( annualRate, years, periodsPerYear) {
                let r = annualRate / periodsPerYear;
                let n = periodsPerYear * years;
                let principalAmount=(pricipal*r)/(1-(1+r)**-n);
                principalAmount=principalAmount.toFixed(2);
                return principalAmount;
            }

            function doBalance() {
                let Principal = parseFloat(document.getElentById('principal').value);
                let Intrest = parseFloat(document.getElementById('intrest').value);
                let Years = parseFloat(document.getElementById('years').value);
                let Payments = parseFloat(document.getElementById('payments').value);
                let NumberPD = parseFloat(document.getElement('NPD').value);
                let output2 = computeBalance(Principal, Intrest, Years, Payments, NumberPD);
                document.getElementById('outputDIV2').innerHTML = "$" + output2;
            }

            function computeBalance(principal, annualRate, years, periodPerYear, 
            numberOfPaymentPaidToDate) {
                let r = annualRate / periodsPerYear;
                let p = computePayment(principle, annualRate, years, periodsPerYear);
                let payoffAmount = principal * (1+r)**numberOfPaymentPaidToDate - 
                (p*((1+r)**numberOfPaymentPaidToDate-1))/r;
                payoffAmount=payoffAmount.toFixed(2);
                return payoffAmount;
                {
              
        </script>
   </head>

        <body>
          <h1>Loan calculator</h1>
          Annual borrowed (principal) <input type="text" id="principal">
          <br>
          <br>
          Annual intrest rates (example: 0.065) <input type="text" id="intrest" size="8">
          <br>
          <br>
          Number of years <input type="text" id="years" size=4>
          <br>
          <br>
          Payments per year <input type="text" id="payments" size=4>
          <br>
          <br>
          <button type="button" onclick="doPayment()">Compute payment </button>
          <br>
          <br>
          <div id="outputDiv1"></div>
          <br>
          <br>
          Number of payments made to date <input type="text" id="NPD" size=4>
          <br>
          <br>
          button type="button" onclick="doBalance()"> Compute payoff amount </button>
          <br>
          <br>
          <div id="outputDiv2"></div>
                
        </body>
</html>